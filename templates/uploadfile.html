{% extends "main.html" %}
{% block content %}

<style>
  label {
    color: #4a6dce;
    background-color: white;
    cursor: pointer;
    user-select: none;
    width: 100%;
    max-width: 400px;
    border: 2px solid #4a6dce;
    display: flex;
    flex-direction: row;
    align-items: center;
    padding: 0.8rem;
    border-radius: 0.5rem;
    justify-content: space-between;
    font-weight: bold;
    box-shadow: 0 2px 4px 2px #e6f1faee;
    transition: background-color 0.3s;
  }

  label .icon {
    fill: currentcolor;
    display: inline-block;
    margin-right: 1rem;
  }
  label .btn{
    margin-right: 10px;
  }
  label input[type=file] {
    display: none;
  }

  label:hover {
    background-color: #f8f8f8;
  }
</style>

  <p>Sources :</p>
  <form action="/upload" method="post" enctype="multipart/form-data">
    <label class="uploader">
      <input type="file" multiple name="file" accept=".txt">
      <span class="icon">
        <svg viewBox="0 0 512 512" width="24" title="upload">
          <path
            d="M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z" />
        </svg>
      </span>
      <span class="placeholder">Add Sources</span>
      <button class="btn btn-info" type="submit"><i class="far fa-file-upload fa-lg"></i></button>
    </label>
  </form>
  <p>Module :</p>
  <form action="/uploadmodule" method="post" enctype="multipart/form-data">
    <label class="uploadermodule">
      <input type="file" multiple name="file" accept=".py">
      <span class="icon">
        <svg viewBox="0 0 512 512" width="24" title="upload">
          <path
            d="M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z" />
        </svg>
      </span>
      <span class="placeholder">Add Modules</span>
      <button class="btn btn-info" type="submit"><i class="far fa-file-upload fa-lg"></i></button>
    </label>
  </form>


<script>
  document.querySelectorAll('.uploader input[type="file"]').forEach((el) => el.addEventListener("change", (ev) => {
    if (ev.target.files && ev.target.files.length) {
      const text = Array.from(ev.target.files)
        .map((x) => x.name)
        .join(", ");
      el.parentNode.querySelector(".placeholder").innerText = text;
    }
  }));
  document.querySelectorAll('.uploadermodule input[type="file"]').forEach((el) => el.addEventListener("change", (ev) => {
    if (ev.target.files && ev.target.files.length) {
      const text = Array.from(ev.target.files)
        .map((x) => x.name)
        .join(", ");
      el.parentNode.querySelector(".placeholder").innerText = text;
    }
  }));
</script>

{% endblock %}